<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>KoiBoi</title>
    <link rel="icon" href="favicon.png" />
    <script src="phaser.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">
const config = {
        type: Phaser.AUTO,
        width: 800,
        height: 600,
        physics: {
        default: 'arcade',
        },
        scene: {
            preload: preload,
            create: create,
            update: update
        }
    };
    var keys;
    const game = new Phaser.Game(config);

     function preload () {
        this.load.image('pond', 'assets/png/pond_bottom.png');
        this.load.spritesheet('koiboi', 'assets/png/koi_sprite.png', {frameWidth: 150, frameHeight: 150})
        this.load.image('land', 'assets/png/pondedge.png');
     }

     function create () {

        const pondbottom = this.add.image(400, 100, 'pond');
        pondbottom.setScale(2);

        this.anims.create({
            key: 'swim',
            frames: this.anims.generateFrameNumbers('koiboi', { frames: [ 0, 1, 2, 3, 4, 5, 6, 7 ] }),
            frameRate: 8,
            repeat: -1
        });

        keys = this.input.keyboard.createCursorKeys();

        this.player = this.physics.add.sprite(400, 450, 'koiboi');

        const layer = this.add.rectangle(400, 300, 800, 600, 0x99d9ea, 0.5);

        const land = this.add.image(400, 100, 'land');
        land.setScale(2);
     }


     function update () {
        this.player.setVelocity(0);

        if (keys.right.isDown) {
            this.player.setVelocityX(300)
            this.player.play('swim', true)
        } else if (keys.left.isDown) {
            this.player.setVelocityX(-300)
            this.player.play('swim', true)
        } else if (keys.up.isDown) {
            this.player.setVelocityY(-300)
            this.player.play('swim', true)
        } else if (keys.down.isDown) {
            this.player.setVelocityY(300)
            this.player.play('swim', true)
        } else {
            this.player.stop()
        }

    }


</script>
</body>
</html>